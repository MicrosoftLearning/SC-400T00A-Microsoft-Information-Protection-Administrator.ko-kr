---
lab:
  title: 연습 2 - 중요한 정보 유형 관리
  module: Module 1 - Implement Information Protection
---


# 랩 1 - 연습 2 - 중요한 정보 유형 관리

Contoso Ltd.에서는 이전에 직원들이 티켓 솔루션에서 지원 티켓 관련 작업을 진행할 때 고객의 개인 정보를 실수로 보내는 문제가 발생했습니다. 이를 방지하려면 이메일 및 문서에서 직원 ID를 식별하는 사용자 지정 중요한 정보 유형을 만들어야 합니다.

**작업**:

1. 사용자 지정 중요한 정보 유형 만들기
1. EDM 기반 분류 정보 유형 만들기
1. EDM 기반 분류 데이터 원본 만들기
1. 키워드 사전 생성
1. 사용자 지정 중요한 정보 유형 테스트하기

## 작업 1 - 사용자 지정 중요한 정보 유형 만들기

이 작업에서는 "직원" 및 "ID" 키워드와 비슷한 직원 ID 패턴을 인식하는 새 사용자 지정 중요한 정보 유형을 만듭니다.

1. 여전히 클라이언트 1 VM(SC-400-CL1)에 **SC-400-CL1\admin** 계정으로 로그인되어 있는 상태여야 합니다.

1. **Microsoft Edge**에서 **`https://purview.microsoft.com`** 으로 이동한 다음, Microsoft Purview 포털에 `JoniS@WWLxZZZZZZ.onmicrosoft.com`으로 로그인합니다(ZZZZZZ는 랩 호스팅 공급자가 제공한 고유 테넌트 ID임). Joni의 암호는 이전 연습에서 설정되었습니다.

1. 왼쪽 사이드바에서 **솔루션**을 선택한 다음, **Information Protection**을 선택합니다.

1. 왼쪽 사이드바에서 **분류자**를 확장한 다음, **중요한 정보 유형**을 선택합니다.

1. **중요한 정보 유형** 페이지에서 **+ 중요한 정보 유형 만들기**를 선택하여 중요한 정보 유형 구성을 시작합니다.

1. **중요한 정보 유형 이름 지정** 페이지에서 다음을 입력합니다.

    - **이름**: `Contoso Employee IDs`
    - **설명**: `Pattern for Contoso employee IDs.`

1. **다음**을 선택합니다.

1. **이 중요한 정보 유형에 대한 패턴 정의** 페이지에서 **+ 패턴 만들기**를 선택합니다.

1. 오른쪽의 **새 패턴** 플라이아웃 패널에서 **+ 기본 요소 추가** > **정규식**을 선택합니다.

1. 오른쪽에 있는 **+ 정규식 추가 ** 플라이아웃 패널에서 다음을 입력합니다.

    - **ID**: `Contoso IDs`
    - **정규식**: `[A-Z]{3}[0-9]{6}`
    - *문자열 일치*에 대한 라디오 단추 선택

1. 플라이아웃 패널 하단에서 **완료**를 선택합니다.

1. **새 패턴** 플라이아웃 패널로 돌아가 **지원 요소** 아래에서 **+ 지원 요소 또는 요소 그룹 추가** 드롭다운 메뉴를 선택하고 **키워드 목록**을 선택합니다.

1. 오른쪽의 **키워드 목록 추가** 플라이아웃 패널에서 다음을 입력합니다.

    - **ID**: `Employee ID keywords`
    - **대/소문자 구분 안 함**:

       ```text
       Employee
       ID
       ```

    - *단어 일치*에 대한 라디오 단추 선택

1. 플라이아웃 패널 하단에서 **완료**를 선택합니다.

1. **새 패턴** 플라이아웃 패널로 돌아가 **문자 근접** 아래에서 **기본 및 지원 요소 검색** 값을 `100`문자로 줄입니다.

1. 플라이아웃 창 아래쪽에서 **만들기** 단추를 선택합니다.

1. **이 중요한 정보 유형에 대한 패턴 정의** 페이지로 돌아가서 **다음**을 선택합니다.

1. **규정 준수 정책에 표시할 권장 신뢰 수준 선택** 페이지에서 기본값을 사용하고 **다음**을 선택합니다.

1. **설정 검토 후 완료** 페이지에서 설정을 검토하고 **만들기**를 선택합니다. 만들어지면 **완료**를 선택합니다.

1. 오른쪽 위에 있는 Joni Sherman의 프로필 사진을 선택하여 Joni의 계정에서 로그아웃합니다. **로그아웃**을 선택한 다음 브라우저 창을 닫습니다.

1. 브라우저 창을 닫고 새 브라우저 창을 엽니다.

100자 범위 내에 대문자 3자, 숫자 6개, 그리고 '직원' 및 'ID' 키워드가 포함되어 있는 패턴의 직원 ID를 식별하는 새 중요한 정보 유형을 만들었습니다.

## 작업 2 - EDM 기반 분류 정보 유형 만들기

이 작업에서는 직원 데이터의 데이터베이스 스키마를 사용하여 EDM(정확한 데이터 일치) 기반 분류를 만듭니다.

1. 여전히 클라이언트 1 VM(SC-400-CL1)에 **SC-400-CL1\admin** 계정으로 로그인되어 있는 상태여야 합니다.

1. **Microsoft Edge**를 열고 **`https://admin.microsoft.com`** 으로 이동합니다.

1. **계정 선택** 페이지가 표시되면 **다른 계정 사용**을 선택하고 **MOD 관리자**(`admin@WWLxZZZZZZ.onmicrosoft.com`)로 로그인합니다(여기서 ZZZZZZ는 랩 호스팅 공급자가 제공한 고유 테넌트 ID임).  관리자의 암호는 랩 호스팅 공급자가 제공합니다.

1. 왼쪽 창에서 **Teams 및 그룹**을 확장한 다음 **활성 Teams 및 그룹**을 선택합니다.

1. **활성 팀 및 그룹** 페이지의 상단 탐색 리본에서 **보안 그룹**을 선택한 다음 **+ 보안 그룹 추가**를 선택합니다.

    ![그룹 추가 단추의 스크린샷](../Media/add-security-group.png)

1. **기본 사항 설정** 화면에서 다음을 입력합니다.

    - **이름**: `EDM_DataUploaders`
    - **설명**: `People who upload data for EDM.`

1. **다음**을 선택합니다.

1. **설정 편집** 페이지에서 기본 설정을 그대로 두고 **다음**을 선택합니다.

1. **검토 및 그룹 추가 완료** 페이지에서 설정을 검토하고 **그룹 만들기**를 선택합니다.

1. **EDM_DataUploaders 그룹 생성** 페이지에서 **닫기**를 선택합니다.

1. **활성 팀 및 그룹** 페이지로 돌아가서 위쪽 탐색 리본에서 **보안** 탭이 선택되어 있는지 확인하고 **새로 고침** 단추를 선택하여 새로 만든 보안 그룹을 표시합니다. 목록에서 새로 만들어진 **EDM_DataUploaders** 그룹을 선택하여 오른쪽에 있는 **EDM_DataUploaders** 플라이아웃 창을 엽니다.

1. **구성원** 탭을 선택하고 **구성원 모두 보기 및 관리**를 선택합니다.

1. **구성원** 페이지에서 **+구성원 추가**를 선택합니다.

1. **구성원 추가** 페이지에서 **Joni Sherman** 왼쪽에 있는 확인란을 선택한 다음 플라이아웃 패널 아래쪽에 있는 **추가(1)** 단추를 선택합니다.

1. **Joni Sherman**이 **구성원** 아래에 나열되어 있는지 확인한 다음, 플라이아웃 패널의 오른쪽 위에 있는 **X**를 선택하여 플라이아웃 패널을 닫습니다.

1. 창 오른쪽 위 모서리에서 MA 아이콘을 선택한 다음 **로그아웃**을 선택하여 MOD 관리자 계정에서 로그아웃합니다.

1. 브라우저 창을 닫고 새 창을 엽니다.

1. `https://purview.microsoft.com`에서 Microsoft Purview 포털로 이동합니다.

1. **계정 선택** 페이지가 표시되면 **Joni Sherman**을 선택하고 로그인합니다.

1. 왼쪽 사이드바에서 **솔루션** > **Information Protection**을 선택하여 **Information Protection**으로 이동합니다.

1. **Information Protection** 페이지에서 **분류자**를 확장한 다음, **EDM 분류자**를 선택합니다.

1. **EDM 분류자** 페이지에서 **+ EDM 분류자 만들기**를 선택합니다.

1. **분류자를 작동하기 위해 필요한 단계 숙지하기**를 살펴보고 EDM 분류자를 만들기 위한 워크플로를 이해한 다음, **EDM 분류자 만들기**를 선택합니다.

1. **EDM 분류자 이름 지정 및 설명** 페이지에서 다음 정보를 입력합니다.

    - **이름**: `employeedb`
    - **설명**: `Employee Database schema`

1. **다음**을 선택합니다.

1. **스키마를 정의하는 방법 선택** 페이지에서 **데이터 구조를 수동으로 정의**한 다음, **다음**을 선택합니다.

1. **검색하려는 데이터가 포함된 열 정의**에서 다음 열을 입력합니다.

   - `Name`
   - `BirthDate`
   - `StreetAddress`
   - `EmployeeID`

   4개의 열이 있어야 합니다. **+ 열 추가** 단추를 선택하여 새 열 에 대한 새 필드를 추가해야 합니다.

      ![EDM 구성 연습의 EDM 열을 보여 주는 스크린샷](../Media/edm-columns.png)

1. **다음**을 선택합니다.

1. **기본 요소 선택** 페이지의 **EmployeeID** 열에 대해 **단일 토큰**이 표시되는 여기에서 **일치 모드** 드롭다운을 확장하고 **SIT 선택**에 대해 **+**(더하기 기호)를 선택합니다.

      ![EDM 분류자의 기본 요소에 대한 SIT를 추가하는 클릭 경로를 보여 주는 스크린샷.](../Media/match-mode-sensitive-info-type.png)

1. 오른쪽의 **"EmployeeID" 대한 중요한 정보 유형 선택** 플라이아웃 패널의 검색 창에서 `Contoso`을 검색합니다.

1. 이전 작업에서 만든 **Contoso Employee ID** 중요한 정보 유형이 표시되어야 합니다. 이 중요한 정보 유형의 왼쪽에 있는 확인란을 선택한 다음 **저장**을 선택합니다.

1. **기본 요소** 선택 페이지로 돌아가서 **EmployeeID** 오른쪽에 있는 확인란을 선택하여 이 필드를 **기본 요소**로 식별합니다.

      ![기본 요소로 선택된 EmployeeID를 보여 주는 스크린샷](../Media/employee-id-primary-element.png)

1. **다음**을 선택합니다.

1. **선택한 열의 데이터에 대한 구성 설정**에서 **모든 열에 대해 동일한 설정 사용**에 대해 토글이 **예**로 설정되어 있는지 확인합니다.

1. 모든 열의 데이터에 대한 **구분 기호 및 문장 부호 무시** 확인란을 선택합니다.

1. **무시할 구분 기호 및 문장 부호 선택** 드롭다운을 선택하고 *하이픈*, *마침표*, *띄어쓰기*, *여는 괄호*, *닫는 괄호*를 선택한 다음 **다음**을 선택합니다.

1. **기본 요소에 대한 검색 규칙 구성**에서 기본 구성을 그대로 두고 **다음**을 선택합니다.

1. **설정 검토 및 완료** 페이지에서 **제출**을 선택합니다.

1. **EDM 분류자 페이지를 성공적으로 만들었으면** 다음 작업에서 사용할 **스키마 이름**을 복사하여 붙여 넣어야 합니다.

      ![EDM 분류자를 만든 후의 스키마 이름을 보여 주는 스크린샷](../Media/edm-copy-schema-name.png)

1. 스키마 이름을 캡처한 후 **완료**를 선택합니다.

1. Microsoft Purview 포털을 사용하여 브라우저를 열어 둡니다.

데이터베이스 파일 원본에서 직원 데이터를 식별하는 데 사용할 새 EDM 기반 분류 중요한 정보 유형을 만들었습니다.

## 작업 3 - EDM 기반 분류 데이터 원본 만들기

이 작업에서는 EDM 업로드 에이전트 도구를 통해 EDM 기반 분류 중요한 정보 유형의 실제 데이터를 해시하고 업로드합니다.

1. 클라이언트 1 VM(SC-400-CL1)에는 여전히 **SC-400-CL1\admin** 계정으로 로그인해야 하며, Microsoft 365에는 **Joni Sherman**으로 로그인되어 있는 상태여야 합니다.

1. **Microsoft Edge**에서 **`https://go.microsoft.com/fwlink/?linkid=2088639`** 로 이동하여 EDM 업로드 에이전트를 다운로드합니다.

1. 다운로드가 완료되면 Microsoft Edge 브라우저 창에서 **파일 열기**를 선택하여 **Microsoft 정확한 데이터 일치 업로드 에이전트 설치** 마법사를 엽니다.

1. **Microsoft 정확한 데이터 일치 업로드 에이전트 설치 마법사**에서 **다음**을 선택합니다.

1. **최종 사용자 사용권 계약** 페이지에서 **사용권 계약의 사용 약관에 동의함** 확인란을 선택한 후 **다음**을 선택합니다.

1. **대상 폴더** 페이지에서 기본 대상 경로를 변경하지 말고 **다음**을 선택합니다.

1. **Microsoft 정확한 데이터 일치 업로드 에이전트 설치 준비** 페이지에서 **설치**를 선택합니다.

1. **사용자 계정 컨트롤** 창이 팝업되면 **예**를 선택하여 애플리케이션이 디바이스를 변경할 수 있도록 허용합니다.

1. 설치가 완료되면 **Microsoft 정확한 데이터 일치 업로드 에이전트 설치 마법사 완료** 페이지에서 **마침**을 선택합니다.

1. 작업 표시줄의 검색 필드에서 `Notepad`을 검색합니다. 검색의 **가장 일치하는 항목** 섹션에서 **메모장** 앱을 선택합니다.

1. 메모장에서 다음을 입력합니다.

    ``` text
    Name,Birthdate,StreetAddress,EmployeeID
    Joni Sherman,01.06.1980,1 Main Street,CSO123456
    Lynne Robbins,31.01.1985,2 Secondary Street,CSO654321
    ```

1. 메모장에서 **파일**, **다른 이름으로 저장**을 차례로 선택하여 파일을 저장합니다.

1. 왼쪽 창에서 **문서**를 선택하고 **파일 이름**으로 `EmployeeData.csv` 입력한 다음 **저장**을 선택합니다.

1. 메모장 창을 닫습니다.

1. 작업 표시줄에서 Windows 기호를 마우스 오른쪽 단추로 클릭하고 **터미널(관리자)** 을 선택합니다.

1. **사용자 계정 컨트롤** 창이 팝업되면 **예**를 선택하여 애플리케이션이 디바이스를 변경할 수 있도록 허용합니다.

1. 터미널 창에서 EDM 업로드 에이전트 디렉터리로 이동합니다.

    ``` powershell
    cd "C:\Program Files\Microsoft\EdmUploadAgent"
    ```

1. 다음 명령 cmdlet을 실행하여 계정에 테넌트에 대한 데이터베이스 업로드 권한을 부여합니다.

    ``` powershell
    .\EdmUploadAgent.exe /Authorize
    ```

1. **계정 선택** 창이 표시되면 `JoniS@WWLxZZZZZZ.onmicrosoft.com`으로 로그인합니다(여기서 ZZZZZZ는 랩 호스팅 공급자가 제공한 고유 테넌트 ID임). Joni의 암호는 이전 연습에서 설정되었습니다.

1. 터미널 창으로 돌아와 PowerShell에서 다음 스크립트를 실행하여 EDM 기반 분류 중요한 정보 유형의 데이터베이스 스키마 정의를 다운로드합니다. **DataStoreName**의 경우 이전 작업에서 저장한 스키마 이름을 사용합니다.

    ``` powershell
    .\EdmUploadAgent.exe /SaveSchema /DataStoreName employeedbSchema /OutputDir "C:\Users\Admin\Documents\"
    ```

    명령이 성공적으로 완료되었다는 메시지가 표시됩니다.

    > **참고**: 마지막으로 실행한 명령이 실패하면 **EDM_DataUploaders** 그룹 멤버 자격이 적용될 때까지 시간이 좀 더 걸리는 것일 수 있습니다. 스키마 파일을 다운로드할 수 있을 때까지는 최대 1시간이 걸릴 수 있습니다.  실패할 경우 다음 작업으로 진행하고 이 단계는 나중에 돌아옵니다.

1. PowerShell에서 다음 스크립트를 실행하여 데이터베이스 파일을 해시한 다음 EDM 기반 분류 중요한 정보 유형에 업로드합니다.

    ``` powershell
    .\EdmUploadAgent.exe /UploadData /DataStoreName employeedbSchema /DataFile "C:\Users\Admin\Documents\EmployeeData.csv" /HashLocation "C:\Users\Admin\Documents\" /Schema "C:\Users\Admin\Documents\employeedbSchema.xml"
    ```

    명령이 성공적으로 완료되었다는 메시지가 표시됩니다.

1. 다음 명령을 사용하여 업로드 진행률을 확인합니다.

    ``` powershell
    .\EdmUploadAgent.exe /GetSession /DataStoreName employeedbSchema
    ```

1. 터미널 창에서 상태가 **완료됨**으로 되어 있으면 EDM 데이터를 사용할 준비가 된 것입니다.

    또는 Microsoft Purview 포털에서 **EDM 분류자** 창을 새로 고쳐 해시의 상태를 확인할 수도 있습니다. 상태가 **인덱스 완료**로 설정되면 해시가 완료됩니다.

    > **참고**: 이 프로세스 시간 동안 GetSession 스크립트를 실행하거나 EDM 분류자 페이지를 몇 번 새로 고친 후에 상태가 해시 완료되었음으로 표시될 수 있습니다.

    ![PowerShell에서 완료됨으로 설정된 EDM 해시 상태를 보여 주는 스크린샷](../Media/edm-hash-completed.png)

    ![Microsoft Purview 포털에서 인덱스 완료로 설정된 EDM 해시 상태를 보여 주는 스크린샷](../Media/edm-hash-completed-ui.png)

1. PowerShell 창을 닫습니다.

EDM 기반 분류 중요한 정보 유형용 데이터베이스 파일을 해시하여 업로드했습니다.

## 작업 4 - 키워드 사전 만들기

회사 내의 사용자가 병가를 낸 직원 관련 이메일을 외부로 전송하는 보내는 과정에서 개인 정보 유출 관련 위반이 몇 차례 발생했습니다. 병가 이유 또는 질환 내용 등이 유출되는 경우가 있습니다. 이런 일은 발생하지 않아야 합니다. 이 작업에서는 이메일의 개인 정보 유출을 방지하기 위해 키워드 사전을 만듭니다.

1. 클라이언트 1 VM(SC-400-CL1)에는 여전히 **SC-400-CL1\admin** 계정으로 로그인해야 하며, Microsoft 365에는 **Joni Sherman**으로 로그인되어 있는 상태여야 합니다.

1. Microsoft Purview 포털이 여전히 Microsoft Edge의 EDM  분류자 페이지에 있어야 합니다. 그렇지 않은 경우 Microsoft Edge에서 `https://purview.microsoft.com` > **솔루션** > **Information Protection**으로 이동합니다.

1. 왼쪽 사이드바에서 **분류자**를 확장한 다음, **중요한 정보 유형**을 선택합니다.

1. **+ 중요한 정보 유형 만들기**를 선택하여 새 중요 정보 유형 만들기 구성을 엽니다.

1. **중요한 정보 유형 이름 지정** 페이지에서 다음을 입력합니다.

    - **이름**: `Contoso Diseases List`
    - **설명**: `List of possible diseases of employees`.

1. **다음**을 선택합니다.

1. **이 중요한 정보 유형에 대한 패턴 정의** 페이지에서 **+ 패턴 만들기**를 선택합니다.

1. 오른쪽의 **새 패턴** 플라이아웃 패널의 **기본 요소**에서 **+ 기본 요소 추가**를 선택한 다음, **키워드 사전**을 선택합니다.

1. **키워드 사전 추가** 페이지에서 다음을 입력합니다.

   - **이름**: `Diseases Dictionary`
   - **키워드:**

    ```text
    flu
    influenza
    cold
    bronchitis
    otitis
    ```

1. 플라이아웃 패널 하단에서 **완료**를 선택합니다.

1. **새 패턴** 페이지로 돌아가서 **지원 요소** 아래의 **+ 지원 요소 또는 요소 그룹 추가**를 선택한 다음 **키워드 목록**을 선택하여 키워드 사전에 대한 지원을 추가합니다.

1. **키워드 목록** 추가 페이지에서 다음을 입력합니다.

   - **ID**: `Employee absence`
   - **대/소문자 구분 안 함**:

    ``` text
    employee
    absence
    reason
    ```

1. 플라이아웃 패널 하단에서 **완료**를 선택합니다.

1. **새 패턴** 페이지에서 구성을 검토하고 **만들기**를 선택합니다.

1. **이 중요한 정보 유형에 대한 패턴 정의** 페이지로 돌아가서 **다음**을 선택합니다.

1. **규정 준수 정책에 표시할 권장 신뢰 수준 선택**에서 기본값을 사용하고 **다음**을 선택합니다.

1. **설정 검토 후 완료** 페이지에서 설정을 검토하고 **만들기**를 선택합니다. 중요한 정보 유형이 만들어지면 **중요한 정보 유형이 만들어짐** 페이지에서 **완료**를 선택합니다.

1. Microsoft Purview 포털의 브라우저 창을 열어 둡니다.

키워드 사전을 기반으로 하여 새 중요한 정보 유형을 만들고 가양성 비율을 낮추기 위해 키워드를 더 추가했습니다.

## 작업 5 - 사용자 지정 중요한 정보 유형 테스트

사용자 지정 중요한 정보 유형은 정책에서 사용하기 전에 항상 테스트해야 합니다. 그렇지 않으면 사용자 지정 검색 패턴이 오작동하여 데이터가 손실되거나 유출될 수 있습니다. 이 작업에서는 사용자 지정 중요한 정보 유형을 테스트하여 원하는 패턴을 인식하는지 확인합니다.

1. 클라이언트 1 VM(SC-400-CL1)에는 여전히 **SC-400-CL1\admin** 계정으로 로그인해야 하며, Microsoft 365에는 **Joni Sherman**으로 로그인되어 있는 상태여야 합니다.

1. 작업 표시줄의 검색 필드에서 `Notepad`을 검색합니다. 검색의 **가장 일치하는 항목** 섹션에서 **메모장** 앱을 선택합니다.

1. 메모장에서 다음을 입력합니다.

    ``` text
    Employee Joni Sherman EMP123456 is absent because of the flu/influenza.
    ```

1. **파일** > **다른 이름으로 저장**을 선택합니다.

1. 왼쪽 창에서 **문서**를 선택하고 **파일** 이름으로 `SickTestData`을 입력한 다음 **저장**을 선택합니다.

1. 메모장 창을 닫습니다.

1. **Microsoft Edge**로 돌아가면, 중요한 정보 유형 페이지에서는 Microsoft Purview 포털이 계속 열려 있어야 합니다.

1. 오른쪽 위에 있는 **검색** 바에 `Contoso`를 입력하고 Enter 키를 누릅니다.

1. **Contoso 직원 ID**를 선택합니다.

1. **테스트**를 선택합니다.

1. 오른쪽의 **파일을 업로드하여 "Contoso 직원 ID" 테스트** 플라이아웃 패널에서 **파일 업로드**를 선택합니다.

1. 왼쪽 창에서 **문서**를 선택하고 *SickTestData.txt* 파일을 선택한 후에 **열기**를 선택합니다.

1. **테스트**를 선택하여 분석을 시작합니다.

1. **일치 결과** 페이지에서 일치 항목을 검토한 다음 **마침**을 선택하여 테스트를 종료합니다.

1. **중요한 정보 유형**으로 돌아가서 `Contoso`을 다시 검색합니다.

1. 이번에는 **Contoso 질병 목록** 중요한 정보 유형을 선택한 다음 **테스트**를 선택합니다.

1. 오른쪽의 **파일을 업로드하여 "Contoso 질병 목록" 테스트** 플라이아웃 패널에서 **파일 업로드**를 선택합니다.

1. **테스트할 파일 업로드** 창에서 **파일 업로드**를 선택합니다.

1. 왼쪽 창에서 **문서**를 선택하고 *SickTestData.txt* 파일을 선택한 후에 **열기**를 선택합니다.

1. **테스트**를 선택하여 분석을 시작합니다.

1. **일치 결과** 페이지에서 일치 항목을 검토한 다음 **마침**을 선택하여 테스트를 종료합니다.

사용자 지정 중요한 정보 유형 2개를 테스트했으며, 검색 패턴이 적절한 패턴을 인식하는지 유효성을 검사했습니다.
