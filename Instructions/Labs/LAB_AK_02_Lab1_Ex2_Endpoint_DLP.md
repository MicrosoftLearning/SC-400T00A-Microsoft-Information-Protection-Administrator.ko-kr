---
lab:
  title: 연습 2 - 엔드포인트 DLP 관리
  module: Module 2 - Implement Data Loss Prevention
---

# 랩 2 - 연습 2 - 엔드포인트 DLP 관리

Contoso Ltd.에 새로 입사한 준수 관리자인 Joni Sherman이 회사 Microsoft 365 테넌트에서 데이터 손실 방지 기능을 구성하는 작업을 맡게 되었습니다. Contoso Ltd.는 미국의 운전학원입니다. 학원에 등록하는 중요한 고객 정보가 조직 외부로 유출되지 않도록 해야 합니다. 따라서 Microsoft 365 DLP 정책을 구현하는 동시에 조직 내의 디바이스에도 이 보호 기능을 확대 적용하기로 했습니다.

## 작업 1 - 디바이스 온보딩 설정

이 작업에서는 조직에서 디바이스 온보딩 기능을 설정합니다.

1. 클라이언트 1 VM(LON-CL1)에는 **lon-cl1\admin** 계정으로, Microsoft 365에는 **Joni Sherman**으로 로그인되어 있는 상태여야 합니다. JoniS@WWLxZZZZZZ.onmicrosoft.com으로 로그인합니다(여기서 ZZZZZZ는 랩 호스팅 공급자가 제공한 고유 테넌트 ID입니다).  Joni의 암호는 랩 호스팅 공급자가 제공합니다.

1. **Microsoft Edge**에는 Microsoft Purview 포털 탭이 계속 열려 있어야 합니다. 해당 탭이 열려 있으면 탭을 선택하고 다음 단계를 진행합니다. 닫았다면 새 탭에서 **https://compliance.microsoft.com** 으로 이동합니다.

1. **Microsoft Purview** 포털의 왼쪽 탐색 창에서 **설정**, **디바이스 온보딩**을 선택합니다.

1. **디바이스 온보딩 켜기**를 선택하여 테넌트에 대한 솔루션을 사용하도록 설정합니다.

1. **디바이스 온보딩 켜기** 대화 상자에서 **확인**을 선택하여 디바이스 온보딩을 적용합니다.

1. **디바이스 모니터링 켜기** 대화 상자에서 **확인**을 선택하여 디바이스 모니터링을 적용합니다.

이제 디바이스 온보딩이 사용하도록 설정되었으므로 엔드포인트 DLP 정책을 사용하여 보호할 Windows 10 디바이스 온보딩을 시작할 수 있습니다. 이 기능을 사용하도록 설정하는 프로세스는 최대 30분 이상이 걸릴 수 있으므로 다음 작업으로 진행해도 됩니다.

## 작업 2 - 엔드포인트 DLP에 디바이스 온보딩

이 작업에서는 엔드포인트 DLP 정책을 통해 보호할 수 있도록 로컬 스크립트 옵션을 사용하여 Windows 10 디바이스를 온보딩합니다.

1. **lon-cl1\admin** 계정으로 클라이언트 1 VM(LON-CL1)에 로그인합니다.

1. **Microsoft Edge**에서 **https://compliance.microsoft.com** 으로 이동하고 Microsoft 365에 **Joni Sherman**으로 로그인해야 합니다.

1. **Microsoft Purview** 포털의 왼쪽 탐색 창에서 **설정**, **디바이스 온보딩**을 선택합니다.

1. **디바이스 온보딩** 페이지의 왼쪽 탐색 창에서 **온보딩**을 선택합니다.

1. **배포 방법** 드롭다운 메뉴에서 **로컬 스크립트(최대 컴퓨터 10대에 사용 가능)** 를 선택하고 **패키지 다운로드**를 선택합니다.

1. 다운로드 대화 상자에서 **저장**, **폴더 열기**를 차례로 선택합니다.

1. LON-CL1의 **바탕 화면**에 ZIP 파일의 압축을 풉니다. **DeviceComplianceLocalOnboardingScript.cmd** 스크립트가 표시됩니다.

1. 바탕 화면에서 방금 압축을 푼 **DeviceComplianceLocalOnboardingScript.cmd** 파일을 마우스 오른쪽 단추로 클릭하고 **관리자 권한으로 실행**을 선택합니다.  Windows SmartScreen 경고 상자가 표시될 수 있습니다. 이 경우 **추가 정보**를 선택하고 **실행**을 선택합니다.  사용자 계정 컨트롤 창이 표시되면 **예**를 선택하여 이 스크립트가 PC를 변경할 수 있도록 허용합니다.

1. **명령 프롬프트** 화면에서 **Y**를 입력하여 실행을 확인하고 Enter 키를 누릅니다.

1. 스크립트 실행이 완료되면 **아무 키나 눌러 계속 진행**합니다.  온보딩을 완료하려면 1분 정도 걸릴 수 있습니다.

1. 시작 메뉴를 열고 **회사 또는 학교 액세스**를 선택합니다.

1. **회사 또는 학교 액세스** 창에서 **+ 연결**을 선택합니다.

1. **회사 또는 학교 계정 설정** 대화 상자에서 **Azure Active Directory에 이 디바이스 가입** 링크를 선택하고 **Joni Sherman**(JoniS@WWLxZZZZZZ.onmicrosoft.com)으로 로그인합니다.(여기서 ZZZZZZ는 랩 호스팅 공급자가 제공한 고유 테넌트 ID임).  Joni의 암호는 랩 호스팅 공급자가 제공합니다.

1. **조직 확인** 대화 상자에서 테넌트 URL을 검토하고 **가입**을 선택합니다.  디바이스 가입이 실패하면 Azure AD 구성 가입 설정의 문제를 해결해야 합니다. 디바이스가 가입 가능하도록 설정하려면 다음 단계를 수행합니다.

        1. Open a new browser tab and go to the Azure Portal https://portal.azure.com
        2. Sign in as **MOD Administrator** admin@WWLxZZZZZZ.onmicrosoft.com
        3. Select **Manage Azure Active Directory**.
        4. Select **Devices**
        5. Select **Device settings**
        6. Scroll-down until you see **Maximum number of devices per user** change the value to **20 (Recommended)**
        7. Once you have updated the setting re-try to connect your device.

1. 디바이스가 연결되면 **완료**를 선택합니다.

1. 클라이언트 1 VM(LON-CL1)을 다시 시작합니다.

디바이스를 온보딩하고 엔드포인트 DLP 정책을 사용하여 보호할 수 있도록 Azure AD에 가입시켰습니다.

## 작업 3 - 엔드포인트 DLP 정책 만들기

이 작업에서는 조직의 Windows 10 디바이스에 있는 중요한 데이터를 보호하는 데 사용할 데이터 손실 방지 정책을 Microsoft Purview 포털에서 만듭니다. 여기서 만들 DLP 정책은 사용자가 신용 카드 정보를 포함하는 문서의 콘텐츠를 복사하려고 하면 해당 작업을 차단합니다.

1. lon-cl1\admin 계정으로 클라이언트 1 VM(LON-CL1)에 로그인합니다.

1. 작업 표시줄에서 Microsoft Edge를 열고 로그인 창이 표시되면 Microsoft Purview 포털(https://compliance.microsoft.com )로 이동하여 JoniS@WWLxZZZZZZ.onmicrosoft.com 으로 로그인합니다(여기서 ZZZZZZ는 랩 호스팅 공급자가 제공한 고유 테넌트 ID임). Joni의 암호는 랩 호스팅 공급자가 제공합니다. 힌트: 암호는 앞부분에서 사용한 MOD 관리자와 동일할 것입니다. 

1. 왼쪽 탐색 창의 **Microsoft Purview** 포털에서 **데이터 손실 방지**를 선택하고 위쪽 창에서 **정책**을 선택합니다.

1. **+정책 만들기**를 선택하여 새 데이터 손실 방지 정책을 만드는 마법사를 시작합니다.

1. **템플릿으로 시작 또는 사용자 지정 정책 만들기** 페이지에서 **사용자 지정**, **사용자 지정 정책**을 선택하고 **다음**을 선택합니다.

1. **DLP 정책 이름 지정** 페이지에서 다음 정보를 입력합니다.

    - **이름**: 직원 질병 엔드포인트 DLP 정책
    - **설명**: 직원 ID 번호 및 질병이 엔드포인트에서 공유되지 않도록 보호합니다.

1. **관리 단위 할당(미리 보기)** 페이지에서 **다음**을 선택합니다.

1. **다음**을 선택합니다.

1. **정책을 적용할 위치 선택** 페이지에서 **디바이스** 옵션만 선택하고 **다음**을 선택합니다.

1. **정책 설정 정의** 페이지의 **고급 DLP 규칙 만들기 또는 사용자 지정** 옵션을 선택해야 합니다. 이 옵션도 기본적으로 선택되어 있습니다. **다음**을 선택합니다.

1. **고급 DLP 규칙 사용자 지정** 페이지에서 **+ 규칙 만들기**를 선택합니다.

1. **규칙 만들기** 페이지에서 다음을 입력합니다.

    - **이름**: EmployeeID 및 질병 규칙
    - **설명**: 직원 ID 및 질병이 근거리에서 공유되는지 검색합니다.

1. **+ 조건 추가**를 선택하고 드롭다운 메뉴에서 **다음이 포함된 콘텐츠**를 선택합니다.

1. 새로 열린 **콘텐츠 포함** 영역에서 **추가**를 선택하고 드롭다운 메뉴에서 **중요한 정보 유형**을 선택합니다.

1. 오른쪽 창의 **중요한 정보 유형**에서 **Contoso 직원 ID** 및 **Contoso 질병 목록**을 선택하고 **추가**를 선택합니다.

1. **다음 중 하나** 드롭다운을 **모두**로 변경하여 정책이 근접한 두 정보를 모두 감지하도록 합니다.

1. **작업**까지 아래로 스크롤하고 **+ 작업 추가** 드롭다운을 선택하고 **디바이스에서 작업 감사 또는 제한을** 선택합니다.

1. 모든 확인란을 사용하도록 설정합니다. 재정의를 **사용하여 클립보드에 복사의** 드롭다운 선택을 **적용** 에서 **차단으로** 변경합니다. 다른 모든 항목에 대한 드롭다운 선택 항목을 **감사에서 차단으로 변경**합니다.****

1. **사용자 알림** 섹션에서 **알림을 사용하여 사용자에게 알리고 중요한 정보의 적절한 사용에 대해 교육합니다.** 를 **켜기**로 전환하여 사용하도록 설정하여 알림을 활성화합니다.

1. **엔드포인트 디바이스**에서 **활동이 제한되는 경우 사용자에게 정책 팁 알림 표시 확인란을 선택합니다. Windows에서 활동에 대해 차단을 선택하면 이 설정이 설정됩니다. Windows 디바이스에서 알림 기능을 끄려면 제한을 사용하지 않도록 설정합니다**.

1. **Microsoft 365 서비스에서** **정책 팁을 사용하여 Office 365 서비스에서 사용자에게 알림** 확인란을 선택합니다.

1. **저장**, **다음**을 차례로 선택합니다.

1. **정책 테스트 또는 켜기** 페이지에서 **예, 지금 켜겠습니다.** 를 선택합니다.

1. **다음**을 선택하고 정책 구성을 검토합니다.

1. **제출**을 선택하여 정책을 만듭니다.

1. 정책이 만들어지면 **완료**를 선택합니다.

DLP 정책을 활성화했습니다. 이 정책은 신용 카드 정보가 포함된 파일의 콘텐츠 복사 시도가 검색되면 해당 시도를 차단하고 사용자에게 알림을 표시합니다.

## 작업 4 - 엔드포인트 DLP 설정 구성

이 작업에서는 Windows 10 디바이스의 한 폴더에 대해 파일 경로 제외를 구성하여 앞에서 만든 엔드포인트 DLP 정책이 해당 폴더의 콘텐츠를 모니터링하지 않음을 확인합니다.

1. 클라이언트 1 VM(LON-CL1)에는 **lon-cl1\admin** 계정으로, Microsoft 365에는 **Joni Sherman**으로 로그인되어 있는 상태여야 합니다. 

1. **Microsoft Edge**에는 Microsoft Purview 포털 탭이 계속 열려 있어야 합니다. 해당 탭이 열려 있으면 탭을 선택하고 다음 단계를 진행합니다. 닫았다면 새 탭에서 **https://compliance.microsoft.com** 으로 이동합니다.

1. **Microsoft Purview** 포털의 왼쪽 탐색 창에서 **정책**을 선택하고 **데이터**에서 **데이터 손실 방지**를 선택합니다.

1. **데이터 손실 방지** 창에서 **엔드포인트 DLP 설정** 탭을 선택합니다.

1. **엔드포인트 DLP 설정** 탭에서 **Windows의 파일 경로 제외** 영역을 확장하고 **+ 파일 경로 제외 추가**를 선택합니다.

1. **제외할 경로 입력** 필드에 *C:\FilePathExclusionTest*를 입력하고 **+** 를 선택합니다.

1. **저장**을 선택합니다.

1. **중요한 데이터에 대한 브라우저 및 도메인 제한**을 확장하고 **+ 허용되지 않는 브라우저 추가 또는 편집**을 선택합니다.

1. 오른쪽 **+ 허용되지 않는 브라우저 추가**에서 **Google Chrome** 왼쪽의 확인란을 선택하고 **저장**을 선택합니다.

1. **서비스 도메인**의 왼쪽 드롭다운 메뉴를 선택하고 **끄기**에서 **차단**으로 변경합니다.

1. **클라우드 앱 업데이트 모드**에서 **예**를 선택하여 블록 모드를 활성화합니다.

1. **+ 클라우드 서비스 도메인 추가**를 선택하여 오른쪽 창을 엽니다.

1. 오른쪽 창의 **도메인** 아래에 **dropbox.com** 입력하고 기호를 선택하고 **저장**을 **+** 선택합니다.

1. 브라우저 창을 닫습니다.

이제 엔드포인트 DLP 정책에 대한 사용자 지정 설정을 구성했습니다. 사용자가 만든 모든 정책은 구성한 폴더의 콘텐츠를 무시하며 Google Chrome 브라우저는 중요한 데이터를 처리하기 위해 허용되지 않는 브라우저로 추가되었습니다.

## 작업 5 - Microsoft Purview 확장 구성

규정 준수 관리자는 중요한 데이터 작업을 위해 여러 사용자에게 Chrome 브라우저를 롤아웃하는 새로운 비즈니스 요구 사항을 평가해야 합니다. 이 테스트의 경우 클라이언트 01에 Google Chrome 브라우저를 설치한 다음, Google 웹 스토어에서 Google용 Purview 규정 준수 확장을 수동으로 추가합니다.

1. 작업 표시줄에서 Edge 브라우저를 엽니다.

1. **https://chrome.google.com** 에서 Google Chrome 다운로드로 이동합니다.

1. **Chrome 다운로드**를 선택하고 **다운로드** 및 **ChromeSetup.exe** 아래에서 **파일 열기**를 선택합니다.

1. **사용자 계정 컨트롤** 대화 상자에서 **예**를 선택하여 Chrome 브라우저를 설치합니다.

1. 설치가 완료되고 **Chrome 시작** 페이지가 열리면 다음 위치에서 Chrome 웹 스토어의 Microsoft Purview 확장으로 이동합니다.

    https://chrome.google.com/webstore/detail/microsoft-purview-extensi/echcggldkblhodogklpincgchnpgcdco

1. **Microsoft Purview 확장**의 확장 페이지에 있는지 확인하고 **Chrome에 추가**를 선택합니다.

1. **“Microsoft Purview 확장” 추가** 창에서 **확장 추가**를 선택합니다.

1. 알림 창을 닫고 chrome://extensions로 이동합니다.

1. **Microsoft Purview 확장**이 표시되고 활성화되어 있는지 확인합니다.

Chrome 브라우저를 성공적으로 설치하고 클라이언트에 Microsoft Purview 확장을 추가했습니다. 이제 Chrome 브라우저를 Edge 브라우저처럼 사용하여 중요한 데이터를 사용할 수 있으며 Chrome 브라우저를 사용할 때 이전에 구성된 엔드포인트 DLP 정책도 적용됩니다.
